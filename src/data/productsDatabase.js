// Base de données des articles pour la caisse enregistreuse
// Basée sur le fichier CSV "bdd caisse enregistreuse.csv"

export const productsDatabase = [
  {
    id: 1,
    name: "BIG POCHETTE TROPEZ MARINE 2025",
    category: "POCHETTE",
    ean13: "2032313697903",
    wholesalePrice: 8.05,
    retailPriceHT: 16.67,
    retailPriceTTC: 20.00,
    discount: 0,
    finalPrice: 20.00,
    stock: 50,
    attributes: "",
    reference: "POCHETTE-001"
  },
  {
    id: 2,
    name: "ABSOLU VERRE 38 CL",
    category: "VERRE",
    ean13: "2055225476183",
    wholesalePrice: 2.76,
    retailPriceHT: 8.33,
    retailPriceTTC: 10.00,
    discount: 0,
    finalPrice: 10.00,
    stock: 100,
    attributes: "",
    reference: "VERRE-001"
  },
  {
    id: 3,
    name: "ACCROCHE SAC SAINT TROPEZ",
    category: "ART DE LA TABLE",
    ean13: "0550487647231",
    wholesalePrice: 3.35,
    retailPriceHT: 8.33,
    retailPriceTTC: 10.00,
    discount: 0,
    finalPrice: 10.00,
    stock: 75,
    attributes: "",
    reference: "TABLE-001"
  },
  {
    id: 4,
    name: "AFFICHE JOHNY",
    category: "DIVERS",
    ean13: "2042923730600",
    wholesalePrice: 4.50,
    retailPriceHT: 8.33,
    retailPriceTTC: 10.00,
    discount: 0,
    finalPrice: 10.00,
    stock: 30,
    attributes: "",
    reference: "DIVERS-001"
  },
  {
    id: 5,
    name: "AIR BEACH G&T UNI",
    category: "VERRE",
    ean13: "2031342681815",
    wholesalePrice: 3.30,
    retailPriceHT: 8.33,
    retailPriceTTC: 10.00,
    discount: 0,
    finalPrice: 10.00,
    stock: 80,
    attributes: "",
    reference: "VERRE-002"
  },
  {
    id: 6,
    name: "AIR BEACH G&T CLEAR TROPEZ",
    category: "VERRE",
    ean13: "2095513267659",
    wholesalePrice: 2.69,
    retailPriceHT: 8.33,
    retailPriceTTC: 10.00,
    discount: 0,
    finalPrice: 10.00,
    stock: 60,
    attributes: "",
    reference: "VERRE-003"
  },
  {
    id: 7,
    name: "AIR BEACH G&T CLEAR UNI",
    category: "VERRE",
    ean13: "2019879283993",
    wholesalePrice: 3.21,
    retailPriceHT: 8.33,
    retailPriceTTC: 10.00,
    discount: 0,
    finalPrice: 10.00,
    stock: 70,
    attributes: "",
    reference: "VERRE-004"
  },
  {
    id: 8,
    name: "AIR BEACH G&T TROPEZ",
    category: "VERRE",
    ean13: "2007117863564",
    wholesalePrice: 2.69,
    retailPriceHT: 8.33,
    retailPriceTTC: 10.00,
    discount: 0,
    finalPrice: 10.00,
    stock: 65,
    attributes: "",
    reference: "VERRE-005"
  },
  {
    id: 9,
    name: "AIR BEACH KRAFT",
    category: "VERRE",
    ean13: "2067139247698",
    wholesalePrice: 3.59,
    retailPriceHT: 8.33,
    retailPriceTTC: 10.00,
    discount: 0,
    finalPrice: 10.00,
    stock: 45,
    attributes: "",
    reference: "VERRE-006"
  },
  {
    id: 10,
    name: "ARTICLE DIVERS",
    category: "BRADERIE",
    ean13: "2034154634352",
    wholesalePrice: 4.17,
    retailPriceHT: 5.00,
    retailPriceTTC: 5.00,
    discount: 0,
    finalPrice: 5.00,
    stock: 200,
    attributes: "",
    reference: "BRADERIE-001"
  },
  {
    id: 11,
    name: "ASSIETTE 24 TROPEZ",
    category: "ASSIETTE",
    ean13: "2010991311731",
    wholesalePrice: 2.10,
    retailPriceHT: 7.08,
    retailPriceTTC: 8.50,
    discount: 0,
    finalPrice: 8.50,
    stock: 120,
    attributes: "",
    reference: "ASSIETTE-001"
  },
  {
    id: 12,
    name: "ASSIETTE 24 UNI",
    category: "ASSIETTE",
    ean13: "2030047740469",
    wholesalePrice: 2.10,
    retailPriceHT: 7.08,
    retailPriceTTC: 8.50,
    discount: 0,
    finalPrice: 8.50,
    stock: 110,
    attributes: "",
    reference: "ASSIETTE-002"
  },
  {
    id: 13,
    name: "ASSIETTE 27 CM CLEAR BLEUE",
    category: "ASSIETTE",
    ean13: "2066917316700",
    wholesalePrice: 0,
    retailPriceHT: 7.08,
    retailPriceTTC: 8.50,
    discount: 0,
    finalPrice: 8.50,
    stock: 90,
    attributes: "",
    reference: "ASSIETTE-003"
  },
  {
    id: 14,
    name: "ASSIETTE 27 CM CLEAR UNI",
    category: "ASSIETTE",
    ean13: "2021635912405",
    wholesalePrice: 0,
    retailPriceHT: 7.08,
    retailPriceTTC: 8.50,
    discount: 0,
    finalPrice: 8.50,
    stock: 85,
    attributes: "",
    reference: "ASSIETTE-004"
  },
  {
    id: 15,
    name: "ASSIETTE 27 TROPEZ",
    category: "ASSIETTE",
    ean13: "2085279702822",
    wholesalePrice: 2.30,
    retailPriceHT: 7.08,
    retailPriceTTC: 8.50,
    discount: 0,
    finalPrice: 8.50,
    stock: 95,
    attributes: "",
    reference: "ASSIETTE-005"
  },
  {
    id: 16,
    name: "ASSIETTE 27 UNI",
    category: "ASSIETTE",
    ean13: "2080063326079",
    wholesalePrice: 2.10,
    retailPriceHT: 7.08,
    retailPriceTTC: 8.50,
    discount: 0,
    finalPrice: 8.50,
    stock: 100,
    attributes: "",
    reference: "ASSIETTE-006"
  },
  {
    id: 17,
    name: "ASSIETTE CREUSE BEBE",
    category: "ENFANT",
    ean13: "2077859782911",
    wholesalePrice: 2.00,
    retailPriceHT: 16.67,
    retailPriceTTC: 20.00,
    discount: 0,
    finalPrice: 20.00,
    stock: 40,
    attributes: "",
    reference: "ENFANT-001"
  },
  {
    id: 18,
    name: "ASSIETTE VICHY APERITIF I LOVE YOU",
    category: "ASSIETTE",
    ean13: "4515212793634",
    wholesalePrice: 4.50,
    retailPriceHT: 10.00,
    retailPriceTTC: 12.00,
    discount: 0,
    finalPrice: 12.00,
    stock: 60,
    attributes: "",
    reference: "ASSIETTE-007"
  },
  {
    id: 19,
    name: "BABY GOURDE BLANCHE",
    category: "ENFANT",
    ean13: "",
    wholesalePrice: 6.20,
    retailPriceHT: 12.50,
    retailPriceTTC: 15.00,
    discount: 0,
    finalPrice: 15.00,
    stock: 35,
    attributes: "",
    reference: "ENFANT-002"
  },
  {
    id: 20,
    name: "BABY GOURDE BLEUE",
    category: "ENFANT",
    ean13: "2068105699275",
    wholesalePrice: 6.20,
    retailPriceHT: 12.50,
    retailPriceTTC: 15.00,
    discount: 0,
    finalPrice: 15.00,
    stock: 30,
    attributes: "",
    reference: "ENFANT-003"
  },
  {
    id: 21,
    name: "BABY GOURDE MAUVE",
    category: "ENFANT",
    ean13: "",
    wholesalePrice: 6.20,
    retailPriceHT: 12.50,
    retailPriceTTC: 15.00,
    discount: 0,
    finalPrice: 15.00,
    stock: 25,
    attributes: "",
    reference: "ENFANT-004"
  },
  {
    id: 22,
    name: "BABY GOURDE ROSE",
    category: "ENFANT",
    ean13: "2066924124961",
    wholesalePrice: 6.20,
    retailPriceHT: 12.50,
    retailPriceTTC: 15.00,
    discount: 0,
    finalPrice: 15.00,
    stock: 28,
    attributes: "",
    reference: "ENFANT-005"
  },
  {
    id: 23,
    name: "BAGUE ACIER 1000-80",
    category: "BIJOUX",
    ean13: "2029892945952",
    wholesalePrice: 5.45,
    retailPriceHT: 12.50,
    retailPriceTTC: 15.00,
    discount: 0,
    finalPrice: 15.00,
    stock: 20,
    attributes: "",
    reference: "BIJOUX-001"
  },
  {
    id: 24,
    name: "BAGUE ACIER 1500-80",
    category: "BIJOUX",
    ean13: "2029718609327",
    wholesalePrice: 5.45,
    retailPriceHT: 12.50,
    retailPriceTTC: 15.00,
    discount: 0,
    finalPrice: 15.00,
    stock: 18,
    attributes: "",
    reference: "BIJOUX-002"
  },
  {
    id: 25,
    name: "BAGUE ACIER 1600-80",
    category: "BIJOUX",
    ean13: "2010767820023",
    wholesalePrice: 5.45,
    retailPriceHT: 12.50,
    retailPriceTTC: 15.00,
    discount: 0,
    finalPrice: 15.00,
    stock: 15,
    attributes: "",
    reference: "BIJOUX-003"
  },
  {
    id: 26,
    name: "BAGUE ACIER 2000-80",
    category: "BIJOUX",
    ean13: "2079497052586",
    wholesalePrice: 7.45,
    retailPriceHT: 16.67,
    retailPriceTTC: 20.00,
    discount: 0,
    finalPrice: 20.00,
    stock: 12,
    attributes: "",
    reference: "BIJOUX-004"
  },
  {
    id: 27,
    name: "BAGUE ACIER 2600-80",
    category: "BIJOUX",
    ean13: "2038690781679",
    wholesalePrice: 7.45,
    retailPriceHT: 16.67,
    retailPriceTTC: 20.00,
    discount: 0,
    finalPrice: 20.00,
    stock: 10,
    attributes: "",
    reference: "BIJOUX-005"
  },
  {
    id: 28,
    name: "BALLON FOOT",
    category: "PLAGE JEUX DIVERS",
    ean13: "2028944819623",
    wholesalePrice: 3.00,
    retailPriceHT: 8.33,
    retailPriceTTC: 10.00,
    discount: 0,
    finalPrice: 10.00,
    stock: 80,
    attributes: "",
    reference: "JEUX-001"
  },
  {
    id: 29,
    name: "BALLON GONFLABLE",
    category: "PLAGE JEUX DIVERS",
    ean13: "2074058587156",
    wholesalePrice: 0.50,
    retailPriceHT: 1.67,
    retailPriceTTC: 2.00,
    discount: 0,
    finalPrice: 2.00,
    stock: 150,
    attributes: "",
    reference: "JEUX-002"
  },
  {
    id: 30,
    name: "BALLON OPTIQUE TROPEZ 58 CL",
    category: "VERRE",
    ean13: "2078557418324",
    wholesalePrice: 3.42,
    retailPriceHT: 8.33,
    retailPriceTTC: 10.00,
    discount: 0,
    finalPrice: 10.00,
    stock: 70,
    attributes: "",
    reference: "VERRE-007"
  }
];

// Fonctions utilitaires pour la gestion des articles
export const getProductByEAN = (ean) => {
  return productsDatabase.find(product => product.ean13 === ean);
};

export const getProductByName = (name) => {
  return productsDatabase.find(product => 
    product.name.toLowerCase().includes(name.toLowerCase())
  );
};

export const getProductsByCategory = (category) => {
  return productsDatabase.filter(product => 
    product.category.toLowerCase() === category.toLowerCase()
  );
};

export const searchProducts = (searchTerm) => {
  const term = searchTerm.toLowerCase();
  return productsDatabase.filter(product => 
    product.name.toLowerCase().includes(term) ||
    product.category.toLowerCase().includes(term) ||
    product.reference.toLowerCase().includes(term)
  );
};

export const getCategories = () => {
  const categories = [...new Set(productsDatabase.map(product => product.category))];
  return categories.sort();
};

export const updateStock = (productId, quantity) => {
  const product = productsDatabase.find(p => p.id === productId);
  if (product) {
    product.stock = Math.max(0, product.stock - quantity);
    return product.stock;
  }
  return null;
};

export const getLowStockProducts = (threshold = 10) => {
  return productsDatabase.filter(product => product.stock <= threshold);
};

export const getTopSellingProducts = () => {
  // Simulation - dans une vraie application, on aurait des données de vente
  return productsDatabase.slice(0, 20);
}; 